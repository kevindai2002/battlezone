<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Battlezone</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
        }
        canvas {
            display: block;
        }
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-family: monospace;
            font-size: 14px;
        }
        #crosshair {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            pointer-events: none;
        }
        :root {
            --crosshair-color: #0f0;
        }
        #crosshair::before,
        #crosshair::after {
            content: '';
            position: absolute;
            background: var(--crosshair-color);
        }
        #crosshair::before {
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            transform: translateY(-50%);
        }
        #crosshair::after {
            left: 50%;
            top: 0;
            width: 2px;
            height: 100%;
            transform: translateX(-50%);
        }
        #radar {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 150px;
            height: 150px;
            border: 2px solid #0f0;
            background: rgba(0, 0, 0, 0.5);
        }
        #countdown {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: red;
            font-family: monospace;
            font-size: 48px;
            font-weight: bold;
            text-shadow: 2px 2px 4px black;
            display: none;
            pointer-events: none;
        }
        #invulnerable {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            color: rgb(153, 217, 255);
            font-family: monospace;
            font-size: 36px;
            font-weight: bold;
            text-shadow: 2px 2px 4px black;
            display: none;
            pointer-events: none;
            text-align: center;
        }
    </style>
</head>
<body>
    <canvas id="glcanvas"></canvas>
    <div id="crosshair"></div>
    <div id="info">
        Controls: Arrow Keys (move), Space (shoot), ! (alternate mode)
    </div>
    <div id="score" style="position: absolute; top: 10px; right: 180px; color: white; font-family: monospace; font-size: 18px; font-weight: bold;">
        Score: 0 | High: 0 | Wave: 1 | Lives: 3
    </div>
    <div id="healthBar" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 300px; height: 30px; border: 3px solid white; background: rgba(0, 0, 0, 0.5);">
        <div id="healthFill" style="width: 100%; height: 100%; background: linear-gradient(90deg, #ff0000, #ff6600); transition: width 0.3s;"></div>
        <div id="healthText" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-family: monospace; font-size: 16px; font-weight: bold; text-shadow: 2px 2px 4px black;">150 / 150</div>
    </div>
    <div id="countdown"></div>
    <div id="invulnerable"></div>
    <div id="gameOver" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: red; font-family: monospace; font-size: 72px; font-weight: bold; text-shadow: 4px 4px 8px black; display: none; text-align: center;">
        <div>GAME OVER</div>
        <button id="restartButton" style="margin-top: 30px; padding: 15px 40px; font-size: 24px; font-family: monospace; font-weight: bold; background: #ff0000; color: white; border: 3px solid white; cursor: pointer; pointer-events: auto;">
            RESTART
        </button>
    </div>
    <div id="startScreen" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.9); border: 5px solid #0f0; padding: 40px; color: white; font-family: monospace; text-align: center; display: block;">
        <h1 style="font-size: 48px; margin: 0 0 30px 0; color: #0f0;">BATTLEZONE</h1>
        <div style="text-align: left; margin: 30px 0; font-size: 18px; line-height: 1.8;">
            <h2 style="color: #0f0; margin-bottom: 15px;">CONTROLS:</h2>
            <p><strong>W/A/S/D:</strong> Move forward/backward & rotate tank</p>
            <p><strong>Arrow Keys:</strong> Rotate camera view</p>
            <p><strong>Space:</strong> Shoot</p>
            <p><strong>! (Shift+1):</strong> Toggle to Normal Mode (first-person)</p>
            <h2 style="color: #0f0; margin-top: 25px; margin-bottom: 15px;">GAMEPLAY:</h2>
            <p>• Destroy enemy tanks to progress through waves</p>
            <p>• You have 3 lives - lose all lives and it's game over</p>
            <p>• Collect hearts to heal (+20 HP) or boost max health (+20 max HP)</p>
            <p>• Enemy damage increases each wave (+1 damage per wave)</p>
            <p>• Use obstacles for cover and track enemies on radar</p>
        </div>
        <button id="startButton" style="margin-top: 30px; padding: 20px 60px; font-size: 32px; font-family: monospace; font-weight: bold; background: #0f0; color: black; border: 3px solid white; cursor: pointer;">
            START GAME
        </button>
    </div>
    <script src="game.js"></script>
</body>
</html>
